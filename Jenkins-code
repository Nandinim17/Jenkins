pipeline {
    agent any
    
    stages {
        stage('Build') {
            steps {
                // Build stage tasks
                sh 'echo "Building the code"'
            }
        }
        stage('Test') {
            steps {
                // Test stage tasks
                sh 'echo "Running tests"'
            }
            post {
                success {
                    emailext subject: 'Test Stage Success',
                              body: 'The test stage has completed successfully.',
                              to: 'nandinimmodi17@gmail.com'
                }
                failure {
                    emailext subject: 'Test Stage Failed',
                              body: 'The test stage has failed. Please check the logs for details.',
                              to: 'nandinimmodi17@gmail.com'
                }
            }
        }
        stage('Security Scan') {
            steps {
                // Security scan stage tasks
                sh 'echo "Performing security scan"'
            }
            post {
                success {
                    emailext subject: 'Security Scan Stage Success',
                              body: 'The security scan stage has completed successfully.',
                              to: 'nandinimmodi17@gmail.com'
                }
                failure {
                    emailext subject: 'Security Scan Stage Failed',
                              body: 'The security scan stage has failed. Please check the logs for details.',
                              to: 'nandinimmodi17@gmail.com'
                }
            }
        }
    }
}
